---
layout: post
title: Installing libsvm-3.0 for Python on OSX 10.6
date: '2011-02-04T16:01:00.000-08:00'
author: Mark Evans
tags:
- libsvm
- python
modified_time: '2011-02-24T13:49:40.975-08:00'
blogger_id: tag:blogger.com,1999:blog-8042776731714569314.post-4680222309584389821
blogger_orig_url: http://codexpython.blogspot.com/2011/02/installing-libsvm-30-for-python-on-osx.html
---

This was very frustrating to solve and I eventually had to get my friend Kieran (thanks Kieran!) to help me. &nbsp;Basically the vanilla installation instructions that come with are insufficient (at least for me) to get a working module. &nbsp;Here are the steps that were required to get everything to work.<br /><br />1. Run '<span class="Apple-style-span" style="font-family: 'Courier New',Courier,monospace;"><b>make</b></span>' in the libsvm-3.0 directory<br /><br />2. Run '<span class="Apple-style-span" style="font-family: 'Courier New',Courier,monospace;"><b>make</b></span>' in the libsvm-3.0/python directory<br /><br />In the libsvm-3.0 directory there now should be a .so2 file<br /><br />3. Create a new directory in your site-packages directory (your pythonpath) called libsvm<br /><br />4. Copy the .so2 file from libsvm-3.0 and the svm.py, svm.pyc, svmutil.py files from libsvm-3.0/python&nbsp;to site-packages/libsvm<br /><br />There are a couple things that are missing so now we need to make them.<br /><br />5. In site-packages/libsvm create a file called __init__.py. &nbsp;This is an empty file, but it is necessary to get the&nbsp;directory recognized as a python module.<br /><br />6. Edit svm.py and add the following two lines after the other import statements at the top of the file:<br /><br />&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="Apple-style-span" style="font-family: 'Courier New',Courier,monospace;"><b>import os.path</b></span><br /><b><span class="Apple-style-span" style="font-family: 'Courier New',Courier,monospace;"></span></b><span class="Apple-style-span" style="font-family: 'Courier New',Courier,monospace;"><b>&nbsp;&nbsp; &nbsp;_PATH = os.path.join( *os.path.split(__file__)[:-1] )</b></span><br /><br /><br />7. &nbsp;At around line 7 you will see this statement<br /><span class="Apple-style-span" style="font-family: 'Courier New',Courier,monospace;"><br /></span><br />&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="Apple-style-span" style="font-family: 'Courier New',Courier,monospace;">#<b>&nbsp;For unix the prefix 'lib' is not considered.</b></span><br /><br /><span class="Apple-style-span" style="font-family: 'Courier New',Courier,monospace;"><b>&nbsp;&nbsp; &nbsp;if find_library('svm'):</b></span><br /><span class="Apple-style-span" style="font-family: 'Courier New',Courier,monospace;"><b>&nbsp;&nbsp; &nbsp; &nbsp; libsvm = CDLL(find_library('svm'))</b></span><br /><span class="Apple-style-span" style="font-family: 'Courier New',Courier,monospace;"><b>&nbsp;&nbsp; &nbsp;elif find_library('libsvm'):</b></span><br /><span class="Apple-style-span" style="font-family: 'Courier New',Courier,monospace;"><b>&nbsp;&nbsp; &nbsp; &nbsp; libsvm = CDLL(find_library('libsvm'))</b></span><br /><span class="Apple-style-span" style="font-family: 'Courier New',Courier,monospace;"><b>&nbsp;&nbsp; &nbsp;else:</b></span><br /><span class="Apple-style-span" style="font-family: 'Courier New',Courier,monospace;"><b>&nbsp;&nbsp; &nbsp; &nbsp; if sys.platform == 'win32':</b></span><br /><b><span class="Apple-style-span" style="font-family: 'Courier New',Courier,monospace;"></span></b><span class="Apple-style-span" style="font-family: 'Courier New',Courier,monospace;"><b>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;libsvm = CDLL('../windows/libsvm.dll')</b></span><br /><b><span class="Apple-style-span" style="font-family: 'Courier New',Courier,monospace;"></span></b><span class="Apple-style-span" style="font-family: 'Courier New',Courier,monospace;"><b>&nbsp;&nbsp; &nbsp; &nbsp; else:</b></span><br /><span class="Apple-style-span" style="font-family: 'Courier New',Courier,monospace;"><b>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;libsvm = CDLL('../libsvm.so.2')</b></span><br /><br />8. &nbsp;Change this to look like this:<br /><br /><br /><span class="Apple-style-span" style="font-family: 'Courier New',Courier,monospace;">&nbsp;&nbsp; &nbsp;<b># For unix the prefix 'lib' is not considered.</b></span><br /><span class="Apple-style-span" style="font-family: 'Courier New',Courier,monospace;"><b>&nbsp;&nbsp; &nbsp;if find_library('svm'):</b></span><br /><span class="Apple-style-span" style="font-family: 'Courier New',Courier,monospace;"><span class="Apple-style-span" style="white-space: pre;"><b>&nbsp;      </b></span><b>libsvm = CDLL(find_library('svm'))</b></span><br /><span class="Apple-style-span" style="font-family: 'Courier New',Courier,monospace;"><b>&nbsp;&nbsp; &nbsp;elif find_library('libsvm'):</b></span><br /><span class="Apple-style-span" style="font-family: 'Courier New',Courier,monospace;"><span class="Apple-style-span" style="white-space: pre;"><b>&nbsp;      </b></span><b>libsvm = CDLL(find_library('libsvm'))</b></span><br /><span class="Apple-style-span" style="font-family: 'Courier New',Courier,monospace;"><b>&nbsp;&nbsp; &nbsp;else:</b></span><br /><span class="Apple-style-span" style="font-family: 'Courier New',Courier,monospace;"><span class="Apple-style-span" style="white-space: pre;"><b>&nbsp;      </b></span><b>if sys.platform == 'win32':</b></span><br /><span class="Apple-style-span" style="font-family: 'Courier New',Courier,monospace;"><span class="Apple-style-span" style="white-space: pre;"><b>&nbsp;         </b></span><b>libsvm = CDLL(os.path.join(_PATH,'windows','libsvm.dll'))</b></span><br /><span class="Apple-style-span" style="font-family: 'Courier New',Courier,monospace;"><span class="Apple-style-span" style="white-space: pre;"><b>&nbsp;      </b></span><b>else:</b></span><br /><span class="Apple-style-span" style="font-family: 'Courier New',Courier,monospace;"><span class="Apple-style-span" style="white-space: pre;"><b>&nbsp;         </b></span><b>libsvm = CDLL(os.path.join(_PATH,'libsvm.so.2'))</b></span><br /><br />9. Once you save svm.py, you should be able to fire up a python interpreter and do<span class="Apple-style-span" style="font-family: 'Courier New',Courier,monospace;"> <b>'from libsvm&nbsp;</b></span><span class="Apple-style-span" style="font-family: 'Courier New',Courier,monospace;"><b>import svm</b></span>'. &nbsp;If that works, and a <span class="Apple-style-span" style="font-family: 'Courier New',Courier,monospace;"><b>dir(svm)</b></span> shows you a ton of functions, then you are good&nbsp;to go.